"use strict";(self["webpackChunkmomoco"]=self["webpackChunkmomoco"]||[]).push([[841],{841:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var l=n(3673);function a(e,t,n,a,o,s){const r=(0,l.up)("q-icon"),i=(0,l.up)("q-input"),c=(0,l.up)("q-table"),d=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(d,{padding:""},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{title:"びゅあー検索㌼",dense:e.$q.screen.lt.md,grid:e.$q.screen.xs,rows:e.searchStore.products.value,columns:e.columns,"row-key":"No",filter:e.filter,"selected-rows-label":e.getSelectedString,selection:"multiple",selected:e.selected,"onUpdate:selected":t[1]||(t[1]=t=>e.selected=t),pagination:e.pagenation},{"top-right":(0,l.w5)((()=>[(0,l.Wm)(i,{borderless:"",dense:"",debounce:"300",modelValue:e.filter,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filter=t),placeholder:"Search"},{append:(0,l.w5)((()=>[(0,l.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["dense","grid","rows","columns","filter","selected-rows-label","selected","pagination"])])),_:1})}var o=n(1959),s=n(52),r=n.n(s);const i="https://script.google.com/macros/s/AKfycbyqELM2mm3J58BLXIjxKxIYN64x6iF6I6ctJU_Vdui6gx331Pz5R5FpuL3s-aM8nsgn/exec";class c{constructor(e){if(this.products=(0,o.qj)({value:[]}),this.extDB=[],e!=c.getInstance)throw c.instance?new Error("Already created instance of AuthStore. You should use AuthStore.getInstance()."):new Error("Constractor args valided illegal. You should use AuthStore.getInstance()");console.info("create instance of SearchStore"),this.syncSpreadSheet()}static getInstance(){return this.instance||(this.instance=new c(c.getInstance)),this.instance}syncSpreadSheet(){r().get(i).then((e=>{const t=e.data;this.extDB=t.map(((e,t)=>{if(t in e)return e[t]})),this.products.value=window.pageData.map(((e,t)=>this.extDB[t]?Object.assign({Title:e.Title,No:t+1},this.extDB[t]):Object.assign({Title:e.Title,No:t+1},{No:t+1,Title:"Non title",Charactors:[],Keyword:[],Comment:"※検索DBに情報が追記されていません"}))),console.log(this.products.value)}))}}function d(){return c.getInstance()}const u=[{name:"No",required:!0,label:"No",align:"left",field:"No",sortable:!0},{name:"Title",label:"タイトル",align:"left",field:"Title",sortable:!0,style:"width: 5px;"},{name:"Charactors",label:"キャラクター",align:"left",field:"Charactors",sortable:!0,format:e=>e.join(",")},{name:"Keyword",label:"キーワード",align:"left",field:"Keyword",format:e=>e.join(",")},{name:"Link",label:"リンク",align:"left",field:"Links"}],g=[{No:1,Title:"都会派",Charactors:["せり","すずな"],Keyword:["きっぷ","お婆ちゃん"],Comment:"きっぷが買えるなんてずなちゃんは都会派だね！",Link:""},{No:2,Title:"隣町より遠く/手渡し",Charactors:["せり","すずな","しろ"],Keyword:["きっぷ","電車"],Comment:"ずなちゃんかわいいね",Link:""}],h=(0,l.aZ)({setup(){const e=(0,o.iH)(!1),t=(0,o.iH)({}),n=(0,o.iH)([]),l=d();return{columns:u,rows:g,searchStore:l,navigationActive:e,selected:n,pagination:t,tableRef:(0,o.iH)(null),filter:(0,o.iH)(""),pagenation:(0,o.iH)({}),tableClass:(0,o.Fl)((()=>!0===e.value?"shadow-8 no-outline":null)),getSelectedString(){return 0===n.value.length?"":`${n.value.length} record${n.value.length>1?"s":""} selected of ${g.length}`}}}});var p=n(4260),m=n(4379),f=n(5280),w=n(4842),b=n(4554),S=n(7518),v=n.n(S);const y=(0,p.Z)(h,[["render",a]]),C=y;v()(h,"components",{QPage:m.Z,QTable:f.Z,QInput:w.Z,QIcon:b.Z})}}]);