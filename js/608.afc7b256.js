"use strict";(globalThis["webpackChunkmomoco"]=globalThis["webpackChunkmomoco"]||[]).push([[608],{9176:(t,e,o)=>{o.d(e,{F:()=>r});var n=o(499);class a{constructor(t){if(this.bookmarks=(0,n.qj)({value:this.getBookmark()}),t!=a.getInstance)throw a.instance?new Error("Already created instance of AuthStore. You should use AuthStore.getInstance()."):new Error("Constractor args valided illegal. You should use AuthStore.getInstance()");console.info("create instance of BookmarkStore")}getBookmark(){var t;const e=null!==(t=window.localStorage.getItem("bookmarks"))&&void 0!==t?t:"";return""!=e?e.split(","):[]}addBookmark(t){this.bookmarks.value.includes(String(t))||this.bookmarks.value.push(String(t)),this.setBookmark()}removeBookmark(t){const e=this.bookmarks.value.indexOf(String(t));-1!=e&&this.bookmarks.value.splice(e,1),this.setBookmark()}setBookmark(){console.log("setBookmark",this.bookmarks.value),window.localStorage.setItem("bookmarks",this.bookmarks.value.join(","))}isIncludeBookmark(t){return this.bookmarks.value.includes(String(t))}clickBookmark(t){this.bookmarks.value.includes(String(t))?this.removeBookmark(t):this.addBookmark(t)}static getInstance(){return this.instance||(this.instance=new a(a.getInstance)),this.instance}}function r(){return a.getInstance()}},6608:(t,e,o)=>{o.r(e),o.d(e,{default:()=>O});var n=o(9835);function a(t,e,o,a,r,s){const l=(0,n.up)("ViewerContent"),i=(0,n.up)("q-btn"),c=(0,n.up)("q-page-sticky"),u=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(u,{padding:"",class:"bg"},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{page:t.page},null,8,["page"]),(0,n.Wm)(c,{position:"bottom-right",offset:[18,18]},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{size:"small",round:"",onClick:e[0]||(e[0]=e=>t.scrollTop()),icon:"keyboard_arrow_up",color:"white",class:"text-black"})])),_:1})])),_:1})}const r=t=>((0,n.dD)("data-v-79959400"),t=t(),(0,n.Cn)(),t),s={class:"viewer-content"},l={key:0,centered:"",style:{"text-align":"center",padding:"10px"}},i=(0,n.Uk)("▲前のお話▲"),c=["src"],u={style:{display:"flex","justify-content":"center"}},m=(0,n.Uk)("しおり"),d=(0,n.Uk)("Memo "),p=r((()=>(0,n._)("div",{class:"text-h6"},"ひとくちメモ",-1))),g=["innerHTML"],k={centered:"",style:{"text-align":"center",padding:"10px"}},h=(0,n.Uk)("▼続きを表示▼");function w(t,e,o,a,r,w){const b=(0,n.up)("q-btn"),f=(0,n.up)("TwitterShareButton"),v=(0,n.up)("q-icon"),E=(0,n.up)("q-space"),B=(0,n.up)("q-card-section"),C=(0,n.up)("q-card-actions"),y=(0,n.up)("q-card"),F=(0,n.up)("q-dialog"),S=(0,n.Q2)("close-popup"),x=(0,n.Q2)("scroll");return(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",s,[Math.min.apply(null,t.show)>0?((0,n.wg)(),(0,n.iD)("div",l,[(0,n.Wm)(b,{size:"x-small",color:"white",class:"text-black",onClick:t.beforeContent,rounded:""},{default:(0,n.w5)((()=>[i])),_:1},8,["onClick"])])):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.show,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.pages[e].ImagesUrl,((o,a)=>((0,n.wg)(),(0,n.iD)("img",{key:a,src:t.pages[e].ImagesUrl[a].replace("/ja/","/ja/webp/").replace(".jpg",".webp"),class:"img4koma",scrollable:""},null,8,c)))),128)),(0,n._)("div",u,[(0,n.Wm)(f,{link:t.CreateShareLinkTwitter(e+1,t.pages[e].Title)},null,8,["link"]),(0,n.Wm)(b,{color:t.bookmarkStore.isIncludeBookmark(e+1)?"grey":"green",class:"text-white",rounded:"",size:"xs",onClick:o=>t.bookmarkStore.clickBookmark(e+1)},{default:(0,n.w5)((()=>[(0,n.Wm)(v,{name:"book"}),m])),_:2},1032,["color","onClick"]),t.db.memos[e]&&null!=t.db.memos[e]?((0,n.wg)(),(0,n.j4)(b,{key:0,color:"orange",class:"text-white",rounded:"",size:"xs",onClick:o=>{t.memo=t.db.memos[e],t.memodal=!t.memodal}},{default:(0,n.w5)((()=>[(0,n.Wm)(v,{name:"book"}),d])),_:2},1032,["onClick"])):(0,n.kq)("",!0)])])))),128)),(0,n.Wm)(F,{modelValue:t.memodal,"onUpdate:modelValue":e[1]||(e[1]=e=>t.memodal=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(y,null,{default:(0,n.w5)((()=>[(0,n.Wm)(B,null,{default:(0,n.w5)((()=>[p,(0,n.Wm)(E)])),_:1}),(0,n.Wm)(B,null,{default:(0,n.w5)((()=>[(0,n._)("div",{innerHTML:t.memo},null,8,g)])),_:1}),(0,n.Wm)(C,{align:"right"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(b,{type:"text",label:"閉じる",flat:"",onClick:e[0]||(e[0]=e=>t.memodal=!t.memodal)},null,512),[[S]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n._)("div",k,[t.pages.length-1>Math.max.apply(null,t.show)?((0,n.wg)(),(0,n.j4)(b,{key:0,rounded:"",size:"x-small",onClick:e[2]||(e[2]=e=>t.addContent()),color:"white",class:"text-black"},{default:(0,n.w5)((()=>[h])),_:1})):(0,n.kq)("",!0)])])),[[x,t.scrolled]])}var b=o(899),f=o(499);const v={style:{"text-align":"center"}},E=(0,n.Uk)("シェア ");function B(t,e,o,a,r,s){const l=(0,n.up)("q-icon"),i=(0,n.up)("q-btn");return(0,n.wg)(),(0,n.iD)("div",v,[(0,n.Wm)(i,{type:"a",rounded:"",size:"xs",color:"primary",class:"text-white",href:"https://twitter.com/intent/tweet?hashtags=%E9%81%93%E8%8D%89%E5%B1%8B&original_referer=https%3A%2F%2Fpublish.twitter.com%2F%3FbuttonText%3D%25E3%2581%2593%25E3%2581%2593%25E3%2581%2599%25E3%2581%258D%25EF%25BC%2581%25EF%25BC%2581%2523%25E3%2581%25BF%25E3%2581%25A1%25E3%2581%258F%25E3%2581%2595%25E3%2581%25B3%25E3%2582%2585%25E3%2581%2582%25E3%2583%25BC%26buttonType%3DTweetButton%26buttonUrl%3Dhttps%253A%252F%252Fmovue.iranika.info%252F%252310%26dnt%3D1%26lang%3Dja%26widget%3DButton&ref_src=twsrc%5Etfw&text=%E7%AC%AC1%E8%A9%B1%E3%80%8C%E9%83%BD%E4%BC%9A%E6%B4%BE%E3%80%8D&tw_p=tweetbutton&url=https%3A%2F%2Fmovue.iranika.info%2F%23%2F%3Fpage%3D1",target:"_blank"},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{name:t.mdiTwitter},null,8,["name"]),E])),_:1})])}var C=o(9481);const y=(0,n.aZ)({props:{link:String},setup(){return{mdiTwitter:C.SGh}}});var F=o(1639),S=o(4455),x=o(2857),D=o(9984),_=o.n(D);const I=(0,F.Z)(y,[["render",B]]),A=I;_()(y,"components",{QBtn:S.Z,QIcon:x.Z});var Z=o(9981),T=o.n(Z);const q="https://script.google.com/macros/s/AKfycbyqELM2mm3J58BLXIjxKxIYN64x6iF6I6ctJU_Vdui6gx331Pz5R5FpuL3s-aM8nsgn/exec";class W{constructor(t){if(this.db=(0,f.qj)({memos:[]}),t!=W.getInstance)throw W.instance?new Error("Already created instance of AuthStore. You should use AuthStore.getInstance()."):new Error("Constractor args valided illegal. You should use AuthStore.getInstance()");console.info("create instance of MemoStore"),this.syncSpreadSheet()}static getInstance(){return this.instance||(this.instance=new W(W.getInstance)),this.instance}syncSpreadSheet(){T().post(q).then((t=>{this.db.memos=t.data}))}}function j(){return W.getInstance()}var Q=o(9176);const M=(0,n.aZ)({components:{TwitterShareButton:A},props:{page:{type:String,default:"1"},lang:{type:String,default:"ja"}},setup(t){const e=(0,f.iH)(!1),o=(0,f.iH)(""),a=j().db,r=(0,Q.F)(),s=window.pageData;var l=(0,f.iH)(d(t.page));function i(t=1){s.length-1>Math.max.apply(null,l.value)?l.value.push(Math.max.apply(null,l.value)+t):console.log("viewerContent info: show.length is over pages.length")}function c(){Math.min.apply(null,l.value)>0?l.value.unshift(Math.min.apply(null,l.value)-1):console.log("viewerContent info: can not show page under 0")}function u(){const t=window.scrollY,e=window.innerHeight,o=document.documentElement.scrollHeight,n=e+t+2>=o;return n||o<e}const m=(0,b.Z)((()=>{u()&&i()}),200);function d(t){const e=parseInt(t),o=3,n=80;return"latest"===t?[s.length-1]:o<=e&&e<=n?[Number(t)-2]:"ri"===t?[79]:0<e&&e<=s.length?[Number(t)-1]:[0]}function p(t,e){const o=encodeURI(`第${t}話「${e}」`);return`https://twitter.com/intent/tweet?hashtags=%E9%81%93%E8%8D%89%E5%B1%8B&original_referer=https%3A%2F%2Fpublish.twitter.com%2F%3FbuttonText%3D%25E3%2581%2593%25E3%2581%2593%25E3%2581%2599%25E3%2581%258D%25EF%25BC%2581%25EF%25BC%2581%2523%25E3%2581%25BF%25E3%2581%25A1%25E3%2581%258F%25E3%2581%2595%25E3%2581%25B3%25E3%2582%2585%25E3%2581%2582%25E3%2583%25BC%26buttonType%3DTweetButton%26buttonUrl%3Dhttps%253A%252F%252Fmovue.iranika.info%252F%252310%26dnt%3D1%26lang%3Dja%26widget%3DButton&ref_src=twsrc%5Etfw&text=${o}&tw_p=tweetbutton&url=https%3A%2F%2Fmovue.iranika.info%2F%23%2F%3Fpage%3D${t}`}return(0,n.YP)((()=>t.page),(t=>{l.value=d(t)}),{deep:!0}),{memodal:e,memo:o,db:a,pages:s,show:l,addContent:i,beforeContent:c,scrolled:m,CreateShareLinkTwitter:p,bookmarkStore:r}},methods:{}});var U=o(2074),H=o(4458),Y=o(3190),z=o(136),L=o(1821),V=o(4877),P=o(2146);const K=(0,F.Z)(M,[["render",w],["__scopeId","data-v-79959400"]]),$=K;_()(M,"components",{QBtn:S.Z,QIcon:x.Z,QDialog:U.Z,QCard:H.Z,QCardSection:Y.Z,QSpace:z.Z,QCardActions:L.Z}),_()(M,"directives",{Scroll:V.Z,ClosePopup:P.Z});const N=(0,n.aZ)({props:{page:String,lang:String},components:{ViewerContent:$},methods:{scrollTop(){scrollTo(0,0)}}});var J=o(9885),R=o(627);const G=(0,F.Z)(N,[["render",a],["__scopeId","data-v-5bc05f12"]]),O=G;_()(N,"components",{QPage:J.Z,QPageSticky:R.Z,QBtn:S.Z})}}]);