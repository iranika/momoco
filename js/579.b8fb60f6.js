"use strict";(self["webpackChunkmomoco"]=self["webpackChunkmomoco"]||[]).push([[579],{3579:(e,t,n)=>{n.r(t),n.d(t,{default:()=>G});var o=n(3673);function a(e,t,n,a,l,s){const r=(0,o.up)("ViewerContent"),i=(0,o.up)("q-btn"),c=(0,o.up)("q-page-sticky"),u=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(u,{padding:"",class:"bg"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{page:e.page},null,8,["page"]),(0,o.Wm)(c,{position:"bottom-right",offset:[18,18]},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{size:"small",round:"",onClick:t[0]||(t[0]=t=>e.scrollTop()),icon:"keyboard_arrow_up",color:"white",class:"text-black"})])),_:1})])),_:1})}const l=e=>((0,o.dD)("data-v-57499188"),e=e(),(0,o.Cn)(),e),s={class:"viewer-content"},r={key:0,centered:"",style:{"text-align":"center",padding:"10px"}},i=(0,o.Uk)("▲前のお話▲"),c=["src"],u={style:{display:"flex","justify-content":"center"}},p=(0,o.Uk)("しおり"),d=(0,o.Uk)("Memo "),m=l((()=>(0,o._)("div",{class:"text-h6"},"ひとくちメモ",-1))),g=["innerHTML"],w={centered:"",style:{"text-align":"center",padding:"10px"}},h=(0,o.Uk)("▼続きを表示▼");function f(e,t,n,a,l,f){const E=(0,o.up)("q-btn"),k=(0,o.up)("TwitterShareButton"),b=(0,o.up)("q-icon"),v=(0,o.up)("q-space"),y=(0,o.up)("q-card-section"),C=(0,o.up)("q-card-actions"),F=(0,o.up)("q-card"),x=(0,o.up)("q-dialog"),D=(0,o.Q2)("close-popup"),_=(0,o.Q2)("scroll");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",s,[Math.min.apply(null,e.show)>0?((0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(E,{size:"x-small",color:"white",class:"text-black",onClick:e.beforeContent,rounded:""},{default:(0,o.w5)((()=>[i])),_:1},8,["onClick"])])):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.show,(t=>((0,o.wg)(),(0,o.iD)("div",{key:t},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.pages[t].ImagesUrl,((n,a)=>((0,o.wg)(),(0,o.iD)("img",{key:a,src:e.pages[t].ImagesUrl[a].replace("/ja/","/ja/webp/").replace(".jpg",".webp"),style:{width:"100%"}},null,8,c)))),128)),(0,o._)("div",u,[(0,o.Wm)(k,{link:e.CreateShareLinkTwitter(t+1,e.pages[t].Title)},null,8,["link"]),(0,o.Wm)(E,{color:"green",class:"text-white",rounded:"",size:"xs"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{name:"book"}),p])),_:1}),e.db.memos[t]&&null!=e.db.memos[t]?((0,o.wg)(),(0,o.j4)(E,{key:0,color:"orange",class:"text-white",rounded:"",size:"xs",onClick:n=>{e.memo=e.db.memos[t],e.memodal=!e.memodal}},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{name:"book"}),d])),_:2},1032,["onClick"])):(0,o.kq)("",!0)])])))),128)),(0,o.Wm)(x,{modelValue:e.memodal,"onUpdate:modelValue":t[1]||(t[1]=t=>e.memodal=t)},{default:(0,o.w5)((()=>[(0,o.Wm)(F,null,{default:(0,o.w5)((()=>[(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[m,(0,o.Wm)(v)])),_:1}),(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[(0,o._)("div",{innerHTML:e.memo},null,8,g)])),_:1}),(0,o.Wm)(C,{align:"right"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(E,{type:"text",label:"閉じる",flat:"",onClick:t[0]||(t[0]=t=>e.memodal=!e.memodal)},null,512),[[D]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o._)("div",w,[e.pages.length-1>Math.max.apply(null,e.show)?((0,o.wg)(),(0,o.j4)(E,{key:0,rounded:"",size:"x-small",onClick:t[2]||(t[2]=t=>e.addContent()),color:"white",class:"text-black"},{default:(0,o.w5)((()=>[h])),_:1})):(0,o.kq)("",!0)])])),[[_,e.scrolled]])}var E=n(9405),k=n(1959);const b={style:{"text-align":"center"}},v=(0,o.Uk)("シェア ");function y(e,t,n,a,l,s){const r=(0,o.up)("q-icon"),i=(0,o.up)("q-btn");return(0,o.wg)(),(0,o.iD)("div",b,[(0,o.Wm)(i,{type:"a",rounded:"",size:"xs",color:"primary",class:"text-white",href:"https://twitter.com/intent/tweet?hashtags=%E9%81%93%E8%8D%89%E5%B1%8B&original_referer=https%3A%2F%2Fpublish.twitter.com%2F%3FbuttonText%3D%25E3%2581%2593%25E3%2581%2593%25E3%2581%2599%25E3%2581%258D%25EF%25BC%2581%25EF%25BC%2581%2523%25E3%2581%25BF%25E3%2581%25A1%25E3%2581%258F%25E3%2581%2595%25E3%2581%25B3%25E3%2582%2585%25E3%2581%2582%25E3%2583%25BC%26buttonType%3DTweetButton%26buttonUrl%3Dhttps%253A%252F%252Fmovue.iranika.info%252F%252310%26dnt%3D1%26lang%3Dja%26widget%3DButton&ref_src=twsrc%5Etfw&text=%E7%AC%AC1%E8%A9%B1%E3%80%8C%E9%83%BD%E4%BC%9A%E6%B4%BE%E3%80%8D&tw_p=tweetbutton&url=https%3A%2F%2Fmovue.iranika.info%2F%23%2F%3Fpage%3D1",target:"_blank"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{name:e.mdiTwitter},null,8,["name"]),v])),_:1})])}var C=n(488);const F=(0,o.aZ)({props:{link:String},setup(){return{mdiTwitter:C.SGh}}});var x=n(4260),D=n(8240),_=n(4554),B=n(7518),S=n.n(B);const Z=(0,x.Z)(F,[["render",y]]),A=Z;S()(F,"components",{QBtn:D.Z,QIcon:_.Z});var T=n(52),q=n.n(T);const I="https://script.google.com/macros/s/AKfycbyqELM2mm3J58BLXIjxKxIYN64x6iF6I6ctJU_Vdui6gx331Pz5R5FpuL3s-aM8nsgn/exec";class W{constructor(e){if(this.db=(0,k.qj)({memos:[]}),e!=W.getInstance)throw W.instance?new Error("Already created instance of AuthStore. You should use AuthStore.getInstance()."):new Error("Constractor args valided illegal. You should use AuthStore.getInstance()");console.info("create instance of MemoStore"),this.syncSpreadSheet()}static getInstance(){return this.instance||(this.instance=new W(W.getInstance)),this.instance}syncSpreadSheet(){q().post(I).then((e=>{this.db.memos=e.data}))}}function Q(){return W.getInstance()}const j=(0,o.aZ)({components:{TwitterShareButton:A},props:{page:{type:String,default:"1"},lang:{type:String,default:"ja"}},setup(e){const t=(0,k.iH)(!1),n=(0,k.iH)(""),a=Q().db,l=window.pageData;var s=(0,k.iH)(p(e.page));function r(e=1){l.length-1>Math.max.apply(null,s.value)?s.value.push(Math.max.apply(null,s.value)+e):console.log("viewerContent info: show.length is over pages.length")}function i(){Math.min.apply(null,s.value)>0?s.value.unshift(Math.min.apply(null,s.value)-1):console.log("viewerContent info: can not show page under 0")}function c(){const e=window.scrollY,t=window.innerHeight,n=document.documentElement.scrollHeight,o=t+e+2>=n;return o||n<t}const u=(0,E.Z)((()=>{c()&&r()}),200);function p(e){const t=parseInt(e);return"latest"===e?[l.length-1]:0<t&&t<=l.length?[Number(e)-1]:[0]}function d(e,t){const n=encodeURI(`第${e}話「${t}」`);return`https://twitter.com/intent/tweet?hashtags=%E9%81%93%E8%8D%89%E5%B1%8B&original_referer=https%3A%2F%2Fpublish.twitter.com%2F%3FbuttonText%3D%25E3%2581%2593%25E3%2581%2593%25E3%2581%2599%25E3%2581%258D%25EF%25BC%2581%25EF%25BC%2581%2523%25E3%2581%25BF%25E3%2581%25A1%25E3%2581%258F%25E3%2581%2595%25E3%2581%25B3%25E3%2582%2585%25E3%2581%2582%25E3%2583%25BC%26buttonType%3DTweetButton%26buttonUrl%3Dhttps%253A%252F%252Fmovue.iranika.info%252F%252310%26dnt%3D1%26lang%3Dja%26widget%3DButton&ref_src=twsrc%5Etfw&text=${n}&tw_p=tweetbutton&url=https%3A%2F%2Fmovue.iranika.info%2F%23%2F%3Fpage%3D${e}`}return(0,o.YP)((()=>e.page),(e=>{s.value=p(e)}),{deep:!0}),{memodal:t,memo:n,db:a,pages:l,show:s,addContent:r,beforeContent:i,scrolled:u,CreateShareLinkTwitter:d}},methods:{}});var M=n(5877),U=n(151),H=n(5589),z=n(2025),L=n(9367),Y=n(4132),V=n(677);const P=(0,x.Z)(j,[["render",f],["__scopeId","data-v-57499188"]]),K=P;S()(j,"components",{QBtn:D.Z,QIcon:_.Z,QDialog:M.Z,QCard:U.Z,QCardSection:H.Z,QSpace:z.Z,QCardActions:L.Z}),S()(j,"directives",{Scroll:Y.Z,ClosePopup:V.Z});const $=(0,o.aZ)({props:{page:String,lang:String},components:{ViewerContent:K},methods:{scrollTop(){scrollTo(0,0)}}});var J=n(4379),N=n(1007);const R=(0,x.Z)($,[["render",a],["__scopeId","data-v-5bc05f12"]]),G=R;S()($,"components",{QPage:J.Z,QPageSticky:N.Z,QBtn:D.Z})}}]);