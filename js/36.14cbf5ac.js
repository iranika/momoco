"use strict";(self["webpackChunkmomoco"]=self["webpackChunkmomoco"]||[]).push([[36],{8801:(t,e,n)=>{n.d(e,{F:()=>s});var o=n(1959);class a{constructor(t){if(this.bookmarks=(0,o.qj)({value:this.getBookmark()}),t!=a.getInstance)throw a.instance?new Error("Already created instance of AuthStore. You should use AuthStore.getInstance()."):new Error("Constractor args valided illegal. You should use AuthStore.getInstance()");console.info("create instance of BookmarkStore")}getBookmark(){var t;const e=null!==(t=window.localStorage.getItem("bookmarks"))&&void 0!==t?t:"";return""!=e?e.split(","):[]}addBookmark(t){this.bookmarks.value.includes(String(t))||this.bookmarks.value.push(String(t)),this.setBookmark()}removeBookmark(t){const e=this.bookmarks.value.indexOf(String(t));-1!=e&&this.bookmarks.value.splice(e,1),this.setBookmark()}setBookmark(){console.log("setBookmark",this.bookmarks.value),window.localStorage.setItem("bookmarks",this.bookmarks.value.join(","))}isIncludeBookmark(t){return this.bookmarks.value.includes(String(t))}clickBookmark(t){this.bookmarks.value.includes(String(t))?this.removeBookmark(t):this.addBookmark(t)}static getInstance(){return this.instance||(this.instance=new a(a.getInstance)),this.instance}}function s(){return a.getInstance()}},5036:(t,e,n)=>{n.r(e),n.d(e,{default:()=>O});var o=n(3673);function a(t,e,n,a,s,r){const l=(0,o.up)("ViewerContent"),i=(0,o.up)("q-btn"),c=(0,o.up)("q-page-sticky"),u=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(u,{padding:"",class:"bg"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{page:t.page},null,8,["page"]),(0,o.Wm)(c,{position:"bottom-right",offset:[18,18]},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{size:"small",round:"",onClick:e[0]||(e[0]=e=>t.scrollTop()),icon:"keyboard_arrow_up",color:"white",class:"text-black"})])),_:1})])),_:1})}const s=t=>((0,o.dD)("data-v-10d66278"),t=t(),(0,o.Cn)(),t),r={class:"viewer-content"},l={key:0,centered:"",style:{"text-align":"center",padding:"10px"}},i=(0,o.Uk)("▲前のお話▲"),c=["src"],u={style:{display:"flex","justify-content":"center"}},d=(0,o.Uk)("しおり"),m=(0,o.Uk)("Memo "),p=s((()=>(0,o._)("div",{class:"text-h6"},"ひとくちメモ",-1))),g=["innerHTML"],k={centered:"",style:{"text-align":"center",padding:"10px"}},h=(0,o.Uk)("▼続きを表示▼");function w(t,e,n,a,s,w){const f=(0,o.up)("q-btn"),b=(0,o.up)("TwitterShareButton"),v=(0,o.up)("q-icon"),E=(0,o.up)("q-space"),B=(0,o.up)("q-card-section"),C=(0,o.up)("q-card-actions"),y=(0,o.up)("q-card"),F=(0,o.up)("q-dialog"),S=(0,o.Q2)("close-popup"),x=(0,o.Q2)("scroll");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",r,[Math.min.apply(null,t.show)>0?((0,o.wg)(),(0,o.iD)("div",l,[(0,o.Wm)(f,{size:"x-small",color:"white",class:"text-black",onClick:t.beforeContent,rounded:""},{default:(0,o.w5)((()=>[i])),_:1},8,["onClick"])])):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.show,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.pages[e].ImagesUrl,((n,a)=>((0,o.wg)(),(0,o.iD)("img",{key:a,src:t.pages[e].ImagesUrl[a].replace("/ja/","/ja/webp/").replace(".jpg",".webp"),style:{width:"100%"}},null,8,c)))),128)),(0,o._)("div",u,[(0,o.Wm)(b,{link:t.CreateShareLinkTwitter(e+1,t.pages[e].Title)},null,8,["link"]),(0,o.Wm)(f,{color:"green",class:"text-white",rounded:"",size:"xs",onClick:n=>t.bookmarkStore.clickBookmark(e+1)},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{name:"book"}),d])),_:2},1032,["onClick"]),t.db.memos[e]&&null!=t.db.memos[e]?((0,o.wg)(),(0,o.j4)(f,{key:0,color:"orange",class:"text-white",rounded:"",size:"xs",onClick:n=>{t.memo=t.db.memos[e],t.memodal=!t.memodal}},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{name:"book"}),m])),_:2},1032,["onClick"])):(0,o.kq)("",!0)])])))),128)),(0,o.Wm)(F,{modelValue:t.memodal,"onUpdate:modelValue":e[1]||(e[1]=e=>t.memodal=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[(0,o.Wm)(B,null,{default:(0,o.w5)((()=>[p,(0,o.Wm)(E)])),_:1}),(0,o.Wm)(B,null,{default:(0,o.w5)((()=>[(0,o._)("div",{innerHTML:t.memo},null,8,g)])),_:1}),(0,o.Wm)(C,{align:"right"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(f,{type:"text",label:"閉じる",flat:"",onClick:e[0]||(e[0]=e=>t.memodal=!t.memodal)},null,512),[[S]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o._)("div",k,[t.pages.length-1>Math.max.apply(null,t.show)?((0,o.wg)(),(0,o.j4)(f,{key:0,rounded:"",size:"x-small",onClick:e[2]||(e[2]=e=>t.addContent()),color:"white",class:"text-black"},{default:(0,o.w5)((()=>[h])),_:1})):(0,o.kq)("",!0)])])),[[x,t.scrolled]])}var f=n(9405),b=n(1959);const v={style:{"text-align":"center"}},E=(0,o.Uk)("シェア ");function B(t,e,n,a,s,r){const l=(0,o.up)("q-icon"),i=(0,o.up)("q-btn");return(0,o.wg)(),(0,o.iD)("div",v,[(0,o.Wm)(i,{type:"a",rounded:"",size:"xs",color:"primary",class:"text-white",href:"https://twitter.com/intent/tweet?hashtags=%E9%81%93%E8%8D%89%E5%B1%8B&original_referer=https%3A%2F%2Fpublish.twitter.com%2F%3FbuttonText%3D%25E3%2581%2593%25E3%2581%2593%25E3%2581%2599%25E3%2581%258D%25EF%25BC%2581%25EF%25BC%2581%2523%25E3%2581%25BF%25E3%2581%25A1%25E3%2581%258F%25E3%2581%2595%25E3%2581%25B3%25E3%2582%2585%25E3%2581%2582%25E3%2583%25BC%26buttonType%3DTweetButton%26buttonUrl%3Dhttps%253A%252F%252Fmovue.iranika.info%252F%252310%26dnt%3D1%26lang%3Dja%26widget%3DButton&ref_src=twsrc%5Etfw&text=%E7%AC%AC1%E8%A9%B1%E3%80%8C%E9%83%BD%E4%BC%9A%E6%B4%BE%E3%80%8D&tw_p=tweetbutton&url=https%3A%2F%2Fmovue.iranika.info%2F%23%2F%3Fpage%3D1",target:"_blank"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{name:t.mdiTwitter},null,8,["name"]),E])),_:1})])}var C=n(488);const y=(0,o.aZ)({props:{link:String},setup(){return{mdiTwitter:C.SGh}}});var F=n(4260),S=n(8240),x=n(4554),D=n(7518),_=n.n(D);const I=(0,F.Z)(y,[["render",B]]),A=I;_()(y,"components",{QBtn:S.Z,QIcon:x.Z});var Z=n(52),q=n.n(Z);const T="https://script.google.com/macros/s/AKfycbyqELM2mm3J58BLXIjxKxIYN64x6iF6I6ctJU_Vdui6gx331Pz5R5FpuL3s-aM8nsgn/exec";class W{constructor(t){if(this.db=(0,b.qj)({memos:[]}),t!=W.getInstance)throw W.instance?new Error("Already created instance of AuthStore. You should use AuthStore.getInstance()."):new Error("Constractor args valided illegal. You should use AuthStore.getInstance()");console.info("create instance of MemoStore"),this.syncSpreadSheet()}static getInstance(){return this.instance||(this.instance=new W(W.getInstance)),this.instance}syncSpreadSheet(){q().post(T).then((t=>{this.db.memos=t.data}))}}function j(){return W.getInstance()}var Q=n(8801);const M=(0,o.aZ)({components:{TwitterShareButton:A},props:{page:{type:String,default:"1"},lang:{type:String,default:"ja"}},setup(t){const e=(0,b.iH)(!1),n=(0,b.iH)(""),a=j().db,s=(0,Q.F)(),r=window.pageData;var l=(0,b.iH)(m(t.page));function i(t=1){r.length-1>Math.max.apply(null,l.value)?l.value.push(Math.max.apply(null,l.value)+t):console.log("viewerContent info: show.length is over pages.length")}function c(){Math.min.apply(null,l.value)>0?l.value.unshift(Math.min.apply(null,l.value)-1):console.log("viewerContent info: can not show page under 0")}function u(){const t=window.scrollY,e=window.innerHeight,n=document.documentElement.scrollHeight,o=e+t+2>=n;return o||n<e}const d=(0,f.Z)((()=>{u()&&i()}),200);function m(t){const e=parseInt(t);return"latest"===t?[r.length-1]:0<e&&e<=r.length?[Number(t)-1]:[0]}function p(t,e){const n=encodeURI(`第${t}話「${e}」`);return`https://twitter.com/intent/tweet?hashtags=%E9%81%93%E8%8D%89%E5%B1%8B&original_referer=https%3A%2F%2Fpublish.twitter.com%2F%3FbuttonText%3D%25E3%2581%2593%25E3%2581%2593%25E3%2581%2599%25E3%2581%258D%25EF%25BC%2581%25EF%25BC%2581%2523%25E3%2581%25BF%25E3%2581%25A1%25E3%2581%258F%25E3%2581%2595%25E3%2581%25B3%25E3%2582%2585%25E3%2581%2582%25E3%2583%25BC%26buttonType%3DTweetButton%26buttonUrl%3Dhttps%253A%252F%252Fmovue.iranika.info%252F%252310%26dnt%3D1%26lang%3Dja%26widget%3DButton&ref_src=twsrc%5Etfw&text=${n}&tw_p=tweetbutton&url=https%3A%2F%2Fmovue.iranika.info%2F%23%2F%3Fpage%3D${t}`}return(0,o.YP)((()=>t.page),(t=>{l.value=m(t)}),{deep:!0}),{memodal:e,memo:n,db:a,pages:r,show:l,addContent:i,beforeContent:c,scrolled:d,CreateShareLinkTwitter:p,bookmarkStore:s}},methods:{}});var U=n(6778),H=n(151),Y=n(5589),z=n(2025),L=n(9367),V=n(4132),P=n(677);const K=(0,F.Z)(M,[["render",w],["__scopeId","data-v-10d66278"]]),$=K;_()(M,"components",{QBtn:S.Z,QIcon:x.Z,QDialog:U.Z,QCard:H.Z,QCardSection:Y.Z,QSpace:z.Z,QCardActions:L.Z}),_()(M,"directives",{Scroll:V.Z,ClosePopup:P.Z});const J=(0,o.aZ)({props:{page:String,lang:String},components:{ViewerContent:$},methods:{scrollTop(){scrollTo(0,0)}}});var N=n(4379),R=n(1007);const G=(0,F.Z)(J,[["render",a],["__scopeId","data-v-5bc05f12"]]),O=G;_()(J,"components",{QPage:N.Z,QPageSticky:R.Z,QBtn:S.Z})}}]);